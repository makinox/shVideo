<section>
  <input type="text" placeholder="üîç Busca pel√≠culas, series o videos" [formControl]="name" (ngModelChange)="handleChange($event)">
</section>

<section>

  <div class="dashboard-header">
    <h1>Descubra nuevas pel√≠culas y programas de televisi√≥n</h1>
  </div>

  <div class="dashboard-options">
    <div>
      <label>A√±o</label>
      <select [formControl]="year" (ngModelChange)="handleFilters()">
        <option value="" selected>2019</option>
        <option value="2018">2018</option>
        <option value="2017">2017</option>
        <option value="2016">2016</option>
        <option value="2015">2015</option>
        <option value="2014">2014</option>
        <option value="2013">2013</option>
        <option value="2012">2012</option>
        <option value="2011">2011</option>
        <option value="2010">2010</option>
        <option value="2009">2009</option>
      </select>
    </div>
    <div>
      <label>G√©nero</label>
      <select [formControl]="genero" (ngModelChange)="handleFilters()">
        <option value="" disabled selected >Selecciona una categor√≠a</option>
        <option [value]="genre.id" *ngFor="let genre of genres">{{genre.name}}</option>
      </select>
    </div>
  </div>

  <div class="dashboard-body" *ngIf="data">
    <div class="dashboard-card" *ngFor="let item of data">

      <div class="card-head">
        <img [src]="'https://image.tmdb.org/t/p/w200/' + item.poster_path " [alt]="item.original_title" *ngIf="item.poster_path">
        <img [src]="'https://picsum.photos/150/220'" [alt]="item.original_title" *ngIf="!item.poster_path">
      </div>

      <div class="card-body">

        <div class="card-body-head">
          <h4>{{item.original_title || item.original_name}}</h4>
          <span>{{item.vote_average}}</span>
        </div>
        <div class="card-body-info">
          <span>2 horas</span>
          <span>{{item.release_date || item.first_air_date}}</span>
          <span>{{item.genre_ids}}</span>
        </div>
        <div class="card-body-text">
          <p>{{item.overview}}</p>
        </div>

        <div class="card-body-actions">
          <div>
            <button (click)="handleModal(item.id)">Ver Trailer</button>
          </div>
          <div (click)="addFavorites(item)" class="card-body-fav" *ngIf="!isFavoritePage">
            <span>Favoritos </span>
            <span>‚ù§</span>
          </div>
          <div (click)="removeFavorites(item)" *ngIf="isFavoritePage">
            <span>Remover</span>
            <span>üôÅ</span>
          </div>
        </div>
        
      </div>

    </div>
  </div>

  <div class="dashboard-without" *ngIf="!data && !isFavoritePage">
    <h2>Un momento por favor</h2>
  </div>

  <div class="dashboard-without" *ngIf="!data && isFavoritePage">
    <h2>No tienes favoritos a√∫n</h2>
  </div>

  <div class="dashboard-footer" *ngIf="!isFavoritePage">
    <div (click)="handlePage(0)">
      <span>‚¨Ö</span>
    </div>
    <div (click)="handlePage(1)">
      <span>‚û°</span>
    </div>
  </div>

  <div class="dashboard-modal" *ngIf="modal">
    <div class="dashboard-modal-content">
      <div class="dashboard-modal-header">
        <div>
          <h2></h2>
        </div>
        <div>
          <button (click)="handleModal()"><span>&times;</span></button>
        </div>
      </div>
      <div class="dashboard-modal-body">
        <iframe [src]="videoModal" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
      </div>
    </div>
  </div>

</section>